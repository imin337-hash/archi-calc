<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê±´ì¶• ì‹¤ë¬´ í†µí•© ì†”ë£¨ì…˜</title>
    <style>
        /* [ìŠ¤íƒ€ì¼ ì •ì˜] */
        :root { --primary: #2DB400; --dark: #333; --light: #f4f6f8; }
        body { font-family: 'Pretendard', 'Malgun Gothic', sans-serif; background: var(--light); margin: 0; padding: 10px; color: var(--dark); }
        .app-container { max-width: 600px; margin: 0 auto; background: white; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); overflow: hidden; }
        
        /* ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ (ìŠ¤í¬ë¡¤ ê°€ëŠ¥) */
        .nav-bar { display: flex; overflow-x: auto; background: #fff; border-bottom: 1px solid #ddd; white-space: nowrap; }
        .nav-item { flex: 1; min-width: 100px; padding: 15px 10px; border: none; background: none; font-size: 14px; font-weight: bold; color: #888; cursor: pointer; transition: 0.2s; text-align: center; }
        .nav-item.active { color: var(--primary); border-bottom: 3px solid var(--primary); background: #f9fff9; }
        .nav-item:hover { background: #f5f5f5; }

        /* ì»¨í…ì¸  ì˜ì—­ */
        .tab-content { display: none; padding: 20px; animation: fadeIn 0.3s; }
        .tab-content.active { display: block; }
        
        /* ì…ë ¥ í¼ ìŠ¤íƒ€ì¼ */
        h3 { margin: 0 0 15px 0; font-size: 18px; border-left: 4px solid var(--primary); padding-left: 10px; }
        .input-group { margin-bottom: 12px; }
        label { display: block; font-size: 13px; font-weight: bold; margin-bottom: 5px; color: #555; }
        input, select, textarea { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 15px; box-sizing: border-box; }
        input:focus, select:focus { border-color: var(--primary); outline: none; }
        
        /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .btn-calc { width: 100%; padding: 12px; background: var(--primary); color: white; border: none; border-radius: 6px; font-size: 16px; font-weight: bold; cursor: pointer; margin-top: 10px; }
        .btn-calc:hover { background: #259600; }
        .btn-copy { width: 100%; padding: 10px; background: #555; color: white; border: none; border-radius: 6px; margin-top: 10px; cursor: pointer; }
        
        /* ê²°ê³¼ ë°•ìŠ¤ */
        .result-area { margin-top: 20px; background: #f8f9fa; border: 1px dashed #ccc; padding: 15px; border-radius: 8px; font-size: 14px; }
        .info-text { font-size: 12px; color: #888; margin-top: 5px; line-height: 1.4; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
        
        /* í…Œì´ë¸” ìŠ¤íƒ€ì¼ (ê²°ê³¼ìš©) */
        .res-table { width: 100%; border-collapse: collapse; font-size: 14px; }
        .res-table th { background: #eee; padding: 8px; border: 1px solid #ccc; width: 35%; text-align: center; }
        .res-table td { padding: 8px; border: 1px solid #ccc; }
    </style>
</head>
<body>

<div class="app-container">
    <nav class="nav-bar">
        <button class="nav-item active" onclick="goTab('tab1', this)">1. ê±´ì¶•ê°œìš”</button>
        <button class="nav-item" onclick="goTab('tab2', this)">2. ì£¼ì°¨ì‚°ì •</button>
        <button class="nav-item" onclick="goTab('tab3', this)">3. ë²•ê·œê²€í† </button>
        <button class="nav-item" onclick="goTab('tab4', this)">4. ì •í™”ì¡°</button>
    </nav>

    <div id="tab1" class="tab-content active">
        <h3>ğŸ“ ê±´ì¶•ê°œìš” ì‘ì„±</h3>
        <div class="input-group"><label>ê³µì‚¬ëª…</label><input type="text" id="ov_title" placeholder="ì˜ˆ: ì–‘í‰êµ° ë‹¨ë…ì£¼íƒ"></div>
        <div class="input-group"><label>ëŒ€ì§€ë©´ì  ($m^2$)</label><input type="number" id="ov_site"></div>
        <div class="input-group"><label>ê±´ì¶•ë©´ì  ($m^2$)</label><input type="number" id="ov_build"></div>
        <div class="input-group"><label>ì§€ìƒ ì—°ë©´ì  ($m^2$)</label><input type="number" id="ov_floor" placeholder="ìš©ì ë¥  ì‚°ì •ìš©"></div>
        <div class="input-group"><label>ì „ì²´ ì—°ë©´ì  ($m^2$)</label><input type="number" id="ov_total" placeholder="ì§€í•˜ í¬í•¨ ì „ì²´"></div>
        <div class="input-group"><label>ê·œëª¨/êµ¬ì¡°</label><input type="text" id="ov_scale" placeholder="ì˜ˆ: ì§€ìƒ2ì¸µ / ì² ì½˜"></div>
        <button class="btn-calc" onclick="calcOverview()">ê°œìš”í‘œ ìƒì„±</button>
        
        <div id="res1" class="result-area">ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</div>
        <button class="btn-copy" onclick="copyDiv('res1')">ğŸ“‹ í‘œ ë³µì‚¬í•˜ê¸°</button>
    </div>

    <div id="tab2" class="tab-content">
        <h3>ğŸš— ì£¼ì°¨ëŒ€ìˆ˜ ê³„ì‚°</h3>
        <p class="info-text">* ì§€ìì²´ ì¡°ë¡€ì— ë”°ë¼ ì„¤ì¹˜ ê¸°ì¤€ì´ ë‹¤ë¦…ë‹ˆë‹¤. (ì˜ˆ: ì„œìš¸ì‹œ ìƒê°€ 134ã¡ë‹¹ 1ëŒ€ ë“±)</p>
        <div class="input-group">
            <label>ì‹œì„¤ ìš©ë„</label>
            <input type="text" id="pk_use" placeholder="ì˜ˆ: ê·¼ë¦°ìƒí™œì‹œì„¤, ë‹¨ë…ì£¼íƒ">
        </div>
        <div class="input-group">
            <label>ì‹œì„¤ ë©´ì  ($m^2$)</label>
            <input type="number" id="pk_area">
        </div>
        <div class="input-group">
            <label>ì„¤ì¹˜ ê¸°ì¤€ ($m^2$ ë‹¹ 1ëŒ€)</label>
            <input type="number" id="pk_std" placeholder="ì˜ˆ: 134, 150, 200 ë“±">
        </div>
        <button class="btn-calc" onclick="calcParking()">ì£¼ì°¨ëŒ€ìˆ˜ ì‚°ì¶œ</button>

        <div id="res2" class="result-area">ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</div>
        <button class="btn-copy" onclick="copyDiv('res2')">ğŸ“‹ ê²°ê³¼ ë³µì‚¬í•˜ê¸°</button>
    </div>

    <div id="tab3" class="tab-content">
        <h3>âš–ï¸ ë²•ê·œ ê²€í†  ì²´í¬ë¦¬ìŠ¤íŠ¸</h3>
        <div class="input-group">
            <label>1. ì§€ì—­/ì§€êµ¬</label>
            <select id="law_zone"><option>ë„ì‹œì§€ì—­ / ì œ1ì¢…ì¼ë°˜ì£¼ê±°</option><option>ê´€ë¦¬ì§€ì—­ / ê³„íšê´€ë¦¬</option><option>ì§ì ‘ì…ë ¥</option></select>
        </div>
        <div class="input-group">
            <label>2. ë„ë¡œ ë„ˆë¹„ (ì ‘ë„ì¡°ê±´)</label>
            <select id="law_road"><option>ì í•© (4m ì´ìƒ í™•ë³´)</option><option>ë¶€ì í•© (ë„ë¡œí™•í­ í•„ìš”)</option><option>í•´ë‹¹ì—†ìŒ</option></select>
        </div>
        <div class="input-group">
            <label>3. ì¼ì¡°ê¶Œ ì‚¬ì„ ì œí•œ</label>
            <select id="law_sun"><option>ì í•© (ë¶ì¸¡ ì´ê²© ì¤€ìˆ˜)</option><option>ê²€í†  í•„ìš”</option><option>í•´ë‹¹ì—†ìŒ</option></select>
        </div>
        <div class="input-group">
            <label>4. ì—ë„ˆì§€ì ˆì•½ ì„¤ê³„ê¸°ì¤€</label>
            <select id="law_energy"><option>ì í•© (ë‹¨ì—´ ê¸°ì¤€ ì¶©ì¡±)</option><option>ë¯¸ëŒ€ìƒ</option></select>
        </div>
        <div class="input-group">
            <label>ê²€í†  ì˜ê²¬ (Memo)</label>
            <textarea id="law_memo" rows="3" placeholder="íŠ¹ì´ì‚¬í•­ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
        </div>
        <button class="btn-calc" onclick="makeChecklist()">ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒì„±</button>

        <div id="res3" class="result-area">ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</div>
        <button class="btn-copy" onclick="copyDiv('res3')">ğŸ“‹ ë¦¬ìŠ¤íŠ¸ ë³µì‚¬í•˜ê¸°</button>
    </div>

    <div id="tab4" class="tab-content">
        <h3>ğŸš½ ì •í™”ì¡° ì¸ì›ì‚°ì • (N)</h3>
        <div class="input-group">
            <label>ì—…ì¢… ì„ íƒ (ì˜¤ì—¼ê³„ìˆ˜)</label>
            <select id="sep_type" onchange="toggleSepInput()">
                <option value="0.075">ì¼ë°˜ ì‚¬ë¬´ì†Œ (0.075)</option>
                <option value="0.175">ì¼ë°˜ ìŒì‹ì  (0.175)</option>
                <option value="0.05">ë‹¨ë…ì£¼íƒ (ë©´ì ê¸°ë°˜ ì•½ì‹)</option>
                <option value="custom">ì§ì ‘ ì…ë ¥</option>
            </select>
        </div>
        <div class="input-group" id="sep_custom_box" style="display:none;">
            <label>ê³„ìˆ˜ ì§ì ‘ ì…ë ¥</label>
            <input type="number" id="sep_coeff" placeholder="ì˜ˆ: 0.1">
        </div>
        <div class="input-group">
            <label>ì—°ë©´ì  ($m^2$)</label>
            <input type="number" id="sep_area">
        </div>
        <button class="btn-calc" onclick="calcSeptic()">ìš©ëŸ‰(ì¸ì›) ê³„ì‚°</button>

        <div id="res4" class="result-area">ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</div>
        <button class="btn-copy" onclick="copyDiv('res4')">ğŸ“‹ ê²°ê³¼ ë³µì‚¬í•˜ê¸°</button>
    </div>
</div>

<script>
    // íƒ­ ì´ë™ í•¨ìˆ˜
    function goTab(tabId, btn) {
        document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        document.getElementById(tabId).classList.add('active');
        btn.classList.add('active');
    }

    // [1] ê±´ì¶•ê°œìš” ê³„ì‚°
    function calcOverview() {
        const site = parseFloat(document.getElementById('ov_site').value);
        const build = parseFloat(document.getElementById('ov_build').value);
        const floor = parseFloat(document.getElementById('ov_floor').value);
        const total = document.getElementById('ov_total').value;
        const title = document.getElementById('ov_title').value;
        const scale = document.getElementById('ov_scale').value;

        if(!site) return alert("ëŒ€ì§€ë©´ì ì„ ì…ë ¥í•˜ì„¸ìš”.");

        const bcr = ((build/site)*100).toFixed(2);
        const far = ((floor/site)*100).toFixed(2);

        const html = `
            <table class="res-table">
                <tr><th>ê³µì‚¬ëª…</th><td>${title}</td></tr>
                <tr><th>ëŒ€ì§€ë©´ì </th><td>${site} mÂ²</td></tr>
                <tr><th>ê±´ì¶•ë©´ì </th><td>${build} mÂ²</td></tr>
                <tr><th>ì—°ë©´ì </th><td>${total} mÂ²</td></tr>
                <tr><th>ê±´íìœ¨</th><td><b>${bcr}%</b></td></tr>
                <tr><th>ìš©ì ë¥ </th><td><b>${far}%</b></td></tr>
                <tr><th>ê·œëª¨</th><td>${scale}</td></tr>
            </table>`;
        document.getElementById('res1').innerHTML = html;
    }

    // [2] ì£¼ì°¨ëŒ€ìˆ˜ ê³„ì‚°
    function calcParking() {
        const use = document.getElementById('pk_use').value;
        const area = parseFloat(document.getElementById('pk_area').value);
        const std = parseFloat(document.getElementById('pk_std').value);

        if(!area || !std) return alert("ë©´ì ê³¼ ê¸°ì¤€ì„ ì…ë ¥í•˜ì„¸ìš”.");

        const count = (area / std).toFixed(2); // ë‹¨ìˆœ ë‚˜ëˆ—ì…ˆ
        const finalCount = Math.round(area / std); // ë°˜ì˜¬ë¦¼ (ì§€ìì²´ë³„ ìƒì´í•˜ë¯€ë¡œ ì°¸ê³ ìš©)

        const html = `
            <table class="res-table">
                <tr><th>ìš©ë„</th><td>${use}</td></tr>
                <tr><th>ì‚°ì •ë©´ì </th><td>${area} mÂ²</td></tr>
                <tr><th>ì„¤ì¹˜ê¸°ì¤€</th><td>${std} mÂ² ë‹¹ 1ëŒ€</td></tr>
                <tr><th>ê³„ì‚°ê°’</th><td>${count} ëŒ€</td></tr>
                <tr><th>ë²•ì •ëŒ€ìˆ˜</th><td style="color:#d35400;"><b>ì•½ ${finalCount} ëŒ€</b><br><span style="font-size:11px; color:#888">(ì§€ìì²´ ì¡°ë¡€ í™•ì¸í•„ìˆ˜)</span></td></tr>
            </table>`;
        document.getElementById('res2').innerHTML = html;
    }

    // [3] ë²•ê·œê²€í†  ë¦¬ìŠ¤íŠ¸
    function makeChecklist() {
        const zone = document.getElementById('law_zone').value;
        const road = document.getElementById('law_road').value;
        const sun = document.getElementById('law_sun').value;
        const energy = document.getElementById('law_energy').value;
        const memo = document.getElementById('law_memo').value;

        const html = `
            <table class="res-table">
                <tr><th>ê²€í† í•­ëª©</th><th>ê²€í† ê²°ê³¼</th></tr>
                <tr><td>ì§€ì—­/ì§€êµ¬</td><td>${zone}</td></tr>
                <tr><td>ë„ë¡œì ‘ì´‰</td><td>${road}</td></tr>
                <tr><td>ì¼ì¡°ê¶Œ</td><td>${sun}</td></tr>
                <tr><td>ì—ë„ˆì§€ì ˆì•½</td><td>${energy}</td></tr>
                <tr><td>ì¢…í•©ì˜ê²¬</td><td>${memo}</td></tr>
            </table>`;
        document.getElementById('res3').innerHTML = html;
    }

    // [4] ì •í™”ì¡° ê³„ì‚°
    function toggleSepInput() {
        const val = document.getElementById('sep_type').value;
        document.getElementById('sep_custom_box').style.display = (val === 'custom') ? 'block' : 'none';
    }

    function calcSeptic() {
        let k = document.getElementById('sep_type').value;
        if(k === 'custom') k = document.getElementById('sep_coeff').value;
        
        const area = parseFloat(document.getElementById('sep_area').value);
        if(!k || !area) return alert("ê°’ì„ í™•ì¸í•´ì£¼ì„¸ìš”.");

        // ì¸ì›(N) = ì˜¤ì—¼ê³„ìˆ˜(k) * ì—°ë©´ì (A)
        const n = (parseFloat(k) * area).toFixed(2);
        
        // ì •í™”ì¡° ê·œê²© ì¶”ì²œ (5ì¸ìš©, 10ì¸ìš© ë“±)
        let recommend = 5;
        if(n > 5) recommend = Math.ceil(n/5)*5; // 5ë‹¨ìœ„ ì˜¬ë¦¼ ì²˜ë¦¬ ì˜ˆì‹œ

        const html = `
            <table class="res-table">
                <tr><th>ì ìš©ê³„ìˆ˜</th><td>${k} (N/mÂ²)</td></tr>
                <tr><th>ì—°ë©´ì </th><td>${area} mÂ²</td></tr>
                <tr><th>ì‚°ì •ì¸ì›</th><td style="color:#2DB400; font-weight:bold;">${n} ì¸</td></tr>
                <tr><th>ì¶”ì²œìš©ëŸ‰</th><td><b>${recommend} ì¸ìš©</b> ì´ìƒ<br><span style="font-size:11px;">(ì œì¡°ì‚¬ ê·œê²© í™•ì¸ìš”ë§)</span></td></tr>
            </table>`;
        document.getElementById('res4').innerHTML = html;
    }

    // ë³µì‚¬ ê¸°ëŠ¥
    function copyDiv(id) {
        const node = document.getElementById(id);
        if(node.innerText === "ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.") return alert("ë¨¼ì € ê³„ì‚°ì„ ì‹¤í–‰í•´ì£¼ì„¸ìš”.");
        
        const range = document.createRange();
        range.selectNodeContents(node);
        const sel = window.getSelection();
        sel.removeAllRanges();
        sel.addRange(range);
        
        try {
            document.execCommand('copy');
            alert("ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! ë¸”ë¡œê·¸ì— ë¶™ì—¬ë„£ê¸°(Ctrl+V) í•˜ì„¸ìš”.");
        } catch(e) {
            alert("ë³µì‚¬ ì‹¤íŒ¨. ë“œë˜ê·¸í•´ì„œ ë³µì‚¬í•´ì£¼ì„¸ìš”.");
        }
        sel.removeAllRanges();
    }
</script>

</body>
</html>
